<div class="w-full max-w-5xl mx-auto px-4">

  <!-- LOGO -->
  <div class="text-center mb-8 relative">
    <div class="flex justify-center">
      <img [src]="branding.logo" [alt]="branding.alt" class="h-32 w-auto object-contain" />
    </div>
  </div>

  <!-- PANEL PRINCIPAL CON FONDO DINÁMICO -->
  <div class="p-12 border-4 shadow-2xl rounded-xl w-full mx-auto min-h-[50vh] mb-8 relative overflow-hidden"
       [style.background-image]="'url(' + branding.background + ')'"
       style="background-size: cover; background-position: center;">

    <!-- CONTENEDOR NEUTRO QUE CUBRE LA ZONA CENTRAL -->
    <div class="contenedor-ganadores">

      <!-- TITULO ADAPTABLE -->
      <div class="titulo-ganadores text-center mb-6">
        {{ winnersTitle }}
      </div>

      <!-- CONTENIDO PRINCIPAL -->
      <div class="flex flex-col items-center justify-center h-full">

        @if (raffleState.isSpinning) {
          <div class="flex flex-col items-center justify-center mb-8">
            <div class="roulette-wrapper">
              <div class="roulette"></div>
            </div>
          </div>
        }

        <!-- LISTADO DE GANADORES (1 o varios) -->
        @if (!raffleState.isSpinning && ganadores.length > 0 && !showingAction) {

          <div class="ganadores-panel w-full mt-2">

            <div class="scroll-ganadores">

              @for (g of ganadores; track i; let i = $index) {
                <div class="ganador-card">

                  <div class="premio text-lg uppercase font-extrabold mb-2">
                    Premio #{{ i + 1 }}
                  </div>

                  <div class="datos text-sm">
                    <div><strong>Nombre:</strong> {{ g.nombreCliente }}</div>
                    <div><strong>Cédula:</strong> {{ g.cedula }}</div>
                    <div><strong>Lugar de compra:</strong> {{ g.departamento }}</div>
                    <div><strong>Factura:</strong> {{ g.factura }}</div>
                    <div class="uuid"><strong>Acción Electrónica:</strong> {{ g.uuid }}</div>
                  </div>

                </div>
              }

            </div>

          </div>
        }

      </div>
    </div>
  </div>

  <!-- BOTONES -->
  <div class="w-full flex flex-col items-center">
    <div class="flex justify-center items-center gap-8 w-full max-w-3xl">
      <button
        (click)="startRaffle()"
        [disabled]="raffleState.isSpinning || raffleState.winner !== undefined"
        class="boton-iniciar flex items-center justify-center gap-3">

        <!-- ruleta pequeña dentro del botón (visible solo al girar) -->
        <div class="btn-roulette-container" [class.hidden]="!showRoulette">
          <div class="btn-roulette" aria-hidden="true"></div>
        </div>

        <span class="btn-text">
          {{ raffleState.isSpinning ? 'GIRANDO...' : 'INICIAR SORTEO' }}
        </span>
      </button>
    </div>
  </div>

</div>
